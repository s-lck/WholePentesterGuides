# 25  - SMTP

Enumerate the email address of the server

* Manually through `nc <IP> 25` or `telnet <IP> 25`
* Some commands:

|    Name    | Usage                                                                                                                                                    |
| :--------: | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
|    HELO    | Allow the client to identify itself and start the SMTP conversation : `HELO <IP>` or `HELO <NDD>`                                                        |
| AUTH PLAIN | Allow the client to authenticate sending username and password combined to one string and base64 encoded                                                 |
| AUTH LOGIN | Allow the client to authenticate sending username and password separately and base64 encoded                                                             |
|  MAIL FROM |  Specifies the email address of the sender, 1st command to send after HELO : `MAIL FROM <EMAIL>`                                                         |
|   RCPT TO  |  Specifies the email address of the recipient : `RCPT TO <EMAIL>`                                                                                        |
|    VRFY    | Asks the server to confirm that a specific email address exist or not, could be used for address enumeration : `VRFY <EMAIL>` or `VRFY <STRINGTOSEARCH>` |
|    EXPN    | Allow the client to request a mailing list to the server : `EXPN <STRINGTOSEARCH>`                                                                       |
|    QUIT    | Ask the server to close the connection : `QUIT`                                                                                                          |



Enumerate the email address of the server automatically

* `nmap -vvv --script smtp-enum-users.nse -vvv <IP>`
* `smtp-user-enum -M <MODE> -U <FILEUSERNAME> -t <IP>` with mode = VRFY or EXPN or RCPT you can also use `-u <STRINGTOSEARCH>`
