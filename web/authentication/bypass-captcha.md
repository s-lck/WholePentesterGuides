# Bypass Captcha

## Method

* Remove the background and keep the text (here in black) of the Captacha

`./magick convert <FILE>.PNG -colorspace gray -threshold 30% result_ocr.png ./magick convert <FILE>.PNG -fill white -fuzz 30% +opaque "#000000" <FILE-RESULT>.png`

* Extract the text

`tesseract.exe <FILE>.png stdout -l eng`

Limit character for tesseract creating a file in `C:\Program Files (x86)\Tesseract-OCR\tessdata\configs containing `

`tessedit_char_whitelist ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789`

* Run tesseract

`"/Program Files (x86)/Tesseract-OCR/tesseract.exe" converted_QTY4SA.PNG ../stdout -l eng whitelist`

* Automatisation

`for f in *.PNG; do echo "File $f..."; magick convert $f -fill white -fuzz 30% +opaque "#000000" ../converted/converted_$f ; done`

`for f in *.PNG; do echo "File $f ..."; tesseract.exe $f stoud_$f -l eng;done`

## Ressources

{% embed url="https://medium.com/lemontech-engineering/breaking-captchas-from-scracth-almost-753895fade8a" %}

