---
description: https://github.com/cobbr/Covenant
---

# \[C\&C] Covenant

## Pratique

### Installation

* Debian or Ubuntu

```
cd /opt
git clone --recurse-submodules https://github.com/cobbr/Covenant
```

* Install .Net Core
  * [https://docs.microsoft.com/en-us/dotnet/core/install/linux-debian](https://docs.microsoft.com/en-us/dotnet/core/install/linux-debian)

```
wget https://packages.microsoft.com/config/debian/11/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
rm packages-microsoft-prod.deb
```

```
sudo apt-get update; \
  sudo apt-get install -y apt-transport-https && \
  sudo apt-get update && \
  sudo apt-get install -y dotnet-sdk-6.0
```

* `cd Covenant/Covenant`
* `dotnet build`
* `dotnet run`

### GUI

* `<ip>:<7443>`

#### Listeners

* Menu listeners
* Listeners tab
  *   Create

      * `name`
      * `port`
      * `ConnectAddress`: public IP of the **redirector**
      * `HttpProfile`: `CustomHttpProfile`
      * Create


* CustomeProfile tab
  *   CustomHttpProfile

      * `HttpUrls`: **These is the URL where the beacon are coming back to the lister**
        * This is where the listener is checking
        * Possible to create new URLs
        * Possible to remove defaults one
      * Possible to modify `HttpGetResponse `- `HttpPostResponse `to make it more legitimate


* **HTTPS **Listeners
  * `UseSSL: `true
  * SSLCertificate: certificate file in `PFX` format

#### Launchers

* Menu launchers
  * Powershell
  * Use the listener
  * Generate
  * Copy the PS command
  * Paste on the target

#### Grunts

* Interact tab
  * whoami

## Ressources

* [https://www.youtube.com/watch?v=1uh5-OzBEqM\&ab\_channel=Conda](https://www.youtube.com/watch?v=1uh5-OzBEqM\&ab\_channel=Conda)
* [https://github.com/cobbr/Covenant/wiki/Installation-And-Startup](https://github.com/cobbr/Covenant/wiki/Installation-And-Startup)
